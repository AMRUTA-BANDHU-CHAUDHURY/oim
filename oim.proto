// Code generated by make; DO NOT EDIT.
syntax = "proto3";
package oim.v0;

import "google/protobuf/wrappers.proto";

option go_package = "oim";
service Registry {
    rpc RegisterController(RegisterControllerRequest)
        returns (RegisterControllerReply) {}
}

message RegisterControllerRequest {
    string UUID = 1;
    string address = 2;
}

message RegisterControllerReply {
    // Intentionally empty.
}

// TODO: Forwarding of requests to the OIM Controller.
service Controller {
    rpc MapVolume(MapVolumeRequest)
        returns (MapVolumeReply) {}

    rpc UnmapVolume(UnmapVolumeRequest)
        returns (UnmapVolumeReply) {}
}

message MapVolumeRequest {
    string UUID = 1;
    oneof params {
        MallocParams malloc = 2;
        CephParams ceph = 3;
    }
}

message MallocParams {
    int64 size = 1;
}

message CephParams {
    string secret = 1;
    // TODO: real ceph parameters
    // TODO: do not log secret in debug output
}

message MapVolumeReply {
    // Intentionally empty.
}

message UnmapVolumeRequest {
    string UUID = 1;
}

message UnmapVolumeReply {
    // Intentionally empty.
}
